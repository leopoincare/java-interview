## ä»€ä¹ˆæ˜¯ç­–ç•¥æ¨¡å¼ï¼Ÿä¸€èˆ¬ç”¨åœ¨ä»€ä¹ˆåœºæ™¯ï¼Ÿ

**ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰** æ˜¯ä¸€ç§**è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼**ï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š

> **å®šä¹‰ä¸€ç»„ç®—æ³•ï¼ˆç­–ç•¥ï¼‰ï¼ŒæŠŠå®ƒä»¬åˆ†åˆ«å°è£…èµ·æ¥ï¼Œå¹¶ä¸”å¯ä»¥åœ¨è¿è¡Œæ—¶è‡ªç”±æ›¿æ¢ï¼Œä½¿ç®—æ³•çš„å˜åŒ–ä¸å½±å“ä½¿ç”¨å®ƒçš„å®¢æˆ·ç«¯ã€‚**

------

## é¢è¯•ä¸€å¥è¯æ€»ç»“

> **ç­–ç•¥æ¨¡å¼é€šè¿‡å°†ä¸åŒç®—æ³•å°è£…æˆç‹¬ç«‹ç­–ç•¥ï¼Œå¹¶åœ¨è¿è¡Œæ—¶è‡ªç”±åˆ‡æ¢ï¼Œé¿å…å¤§é‡ if/else åˆ¤æ–­ï¼Œä½¿ç³»ç»Ÿåœ¨æ‰©å±•æ–°è§„åˆ™æ—¶æ— éœ€ä¿®æ”¹å·²æœ‰ä»£ç ï¼Œå¸¸ç”¨äºæ”¯ä»˜ã€æŠ˜æ‰£ã€è·¯ç”±ç­‰åœºæ™¯ã€‚**

## ä¸€ã€ä¸ºä»€ä¹ˆè¦ç”¨ç­–ç•¥æ¨¡å¼ï¼Ÿï¼ˆè§£å†³ä»€ä¹ˆé—®é¢˜ï¼‰

å½“ä»£ç ä¸­å‡ºç°å¤§é‡ **if / else / switch** æ¥é€‰æ‹©ä¸åŒä¸šåŠ¡é€»è¾‘æ—¶ï¼š

```
if (type == 1) {
    // ç®—æ³• A
} else if (type == 2) {
    // ç®—æ³• B
} else if (type == 3) {
    // ç®—æ³• C
}
```

âŒ é—®é¢˜ï¼š

- æ¡ä»¶åˆ¤æ–­è‡ƒè‚¿
- æ–°å¢ç­–ç•¥è¦æ”¹åŸä»£ç 
- ä¸ç¬¦åˆ **å¼€é—­åŸåˆ™**

ğŸ‘‰ **ç­–ç•¥æ¨¡å¼å°±æ˜¯ä¸ºäº†è§£å†³è¿™ç±»é—®é¢˜**

------

## äºŒã€ç­–ç•¥æ¨¡å¼çš„æ ¸å¿ƒè§’è‰²

### 1ï¸âƒ£ ç­–ç•¥æ¥å£ï¼ˆStrategyï¼‰

```
public interface DiscountStrategy {
    BigDecimal calculate(BigDecimal price);
}
```

### 2ï¸âƒ£ å…·ä½“ç­–ç•¥ï¼ˆConcreteStrategyï¼‰

```
public class VipDiscount implements DiscountStrategy {
    public BigDecimal calculate(BigDecimal price) {
        return price.multiply(new BigDecimal("0.8"));
    }
}
public class NormalDiscount implements DiscountStrategy {
    public BigDecimal calculate(BigDecimal price) {
        return price;
    }
}
```

### 3ï¸âƒ£ ä¸Šä¸‹æ–‡ï¼ˆContextï¼‰

```
public class PriceContext {
    private DiscountStrategy strategy;

    public PriceContext(DiscountStrategy strategy) {
        this.strategy = strategy;
    }

    public BigDecimal getFinalPrice(BigDecimal price) {
        return strategy.calculate(price);
    }
}
```

------

## ä¸‰ã€ç­–ç•¥æ¨¡å¼çš„æ‰§è¡Œæµç¨‹

```
å®¢æˆ·ç«¯
  â†“ é€‰æ‹©ç­–ç•¥
Context â†’ Strategy â†’ ConcreteStrategy
```

- å®¢æˆ·ç«¯å†³å®šç”¨å“ªç§ç­–ç•¥
- Context è´Ÿè´£è°ƒç”¨
- ç®—æ³•å½¼æ­¤ç‹¬ç«‹ã€å¯äº’æ¢

------

## å››ã€ä¸€èˆ¬ç”¨åœ¨ä»€ä¹ˆåœºæ™¯ï¼Ÿï¼ˆé‡ç‚¹ï¼‰

### 1ï¸âƒ£ å¤šç§ç®—æ³• / è§„åˆ™å¯äº’æ¢

- æŠ˜æ‰£è®¡ç®—ï¼ˆæ™®é€š / VIP / æ»¡å‡ï¼‰
- æ”¯ä»˜æ–¹å¼ï¼ˆæ”¯ä»˜å® / å¾®ä¿¡ / é“¶è¡Œå¡ï¼‰
- æ’åºç­–ç•¥ï¼ˆå¿«æ’ / å½’å¹¶ / å †æ’ï¼‰

------

### 2ï¸âƒ£ æ¶ˆé™¤å¤§é‡ if / else

```
Map<Type, Strategy> strategyMap;
```

- æ–°å¢ç­–ç•¥ â†’ åªåŠ ç±»ï¼Œä¸æ”¹åŸé€»è¾‘

------

### 3ï¸âƒ£ è¿è¡Œæ—¶åŠ¨æ€é€‰æ‹©è¡Œä¸º

- æ ¹æ®ç”¨æˆ·ç±»å‹
- æ ¹æ®é…ç½®
- æ ¹æ®ä¸Šä¸‹æ–‡å‚æ•°

------

### 4ï¸âƒ£ ä¸å·¥å‚ / Spring æ­é…ä½¿ç”¨ â­

#### Spring å¸¸è§å†™æ³•

```
@Component
public class VipStrategy implements Strategy {}

@Autowired
Map<String, Strategy> strategyMap;
```

ğŸ‘‰ **é…ç½®å³æ‰©å±•**

------

## äº”ã€ç­–ç•¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹

### âœ… ä¼˜ç‚¹

- éµå¾ªå¼€é—­åŸåˆ™
- æ¶ˆé™¤æ¡ä»¶åˆ†æ”¯
- ç®—æ³•ç‹¬ç«‹ã€æ˜“ç»´æŠ¤
- æ˜“äºå•å…ƒæµ‹è¯•

### âŒ ç¼ºç‚¹

- ç±»æ•°é‡å¢åŠ 
- å®¢æˆ·ç«¯éœ€è¦çŸ¥é“ç­–ç•¥çš„å­˜åœ¨

------

## å…­ã€ä¸ç›¸ä¼¼æ¨¡å¼å¯¹æ¯”ï¼ˆé¢è¯•å¸¸é—®ï¼‰

| æ¨¡å¼     | åŒºåˆ«                   |
| -------- | ---------------------- |
| ç­–ç•¥æ¨¡å¼ | å®¢æˆ·ç«¯é€‰æ‹©ç®—æ³•         |
| çŠ¶æ€æ¨¡å¼ | å¯¹è±¡å†…éƒ¨çŠ¶æ€åˆ‡æ¢       |
| æ¨¡æ¿æ–¹æ³• | ç®—æ³•éª¨æ¶å›ºå®šï¼Œæ­¥éª¤å¯å˜ |

------

> 