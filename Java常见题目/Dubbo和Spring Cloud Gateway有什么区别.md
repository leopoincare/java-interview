## Dubbo 和 Spring Cloud Gateway 有什么区别？

这是一个**微服务面试高频对比题**，很多人会把它们当成“同一层的技术”，其实**定位完全不同**。我按 **定位 → 核心能力 → 架构角色 → 面试一句话** 给你讲清楚。

------

## 面试总结一句话

> **Dubbo 是用于微服务之间高性能 RPC 调用的服务治理框架，而 Spring Cloud Gateway 是微服务对外的统一入口网关，二者位于不同层级，通常组合使用而非互相替代。**

------

**一、核心结论先行 ⭐

> **Dubbo 是 RPC 服务治理框架，Spring Cloud Gateway 是 API 网关，它们解决的是微服务架构中“不同层面”的问题，不能互相替代。**

------

## 二、定位上的根本区别（最重要）

| 维度         | Dubbo                 | Spring Cloud Gateway  |
| ------------ | --------------------- | --------------------- |
| 技术定位     | **服务间通信（RPC）** | **统一入口 / 网关层** |
| 所在层级     | 服务调用层            | 流量入口层            |
| 面向对象     | 内部微服务            | 外部客户端            |
| 是否直接暴露 | ❌ 通常不对外          | ✅ 对外暴露            |

👉 **Dubbo 在内部，Gateway 在最外层**

------

## 三、核心功能对比

### 1️⃣ Dubbo（服务治理）

**解决的问题**

- 服务调用（RPC）
- 服务注册与发现
- 负载均衡
- 容错（超时、重试、熔断）
- 服务治理与版本管理

**特点**

- 基于 RPC（高性能、低延迟）
- 多协议支持（Dubbo、Triple、gRPC）
- 强类型接口（接口即契约）

**典型架构**

```
Service A  →  Dubbo  →  Service B
```

------

### 2️⃣ Spring Cloud Gateway（网关）

**解决的问题**

- 统一入口
- 路由转发
- 鉴权、限流
- 协议转换（HTTP → RPC）
- 日志、监控

**特点**

- 基于 WebFlux（响应式、非阻塞）
- HTTP / HTTPS
- 以路由 + 过滤器为核心

**典型架构**

```
Client → Gateway → 微服务
```

------

## 四、协议 & 性能对比

| 维度       | Dubbo         | Spring Cloud Gateway |
| ---------- | ------------- | -------------------- |
| 通信协议   | RPC（二进制） | HTTP                 |
| 性能       | ⭐⭐⭐⭐⭐         | ⭐⭐⭐                  |
| 延迟       | 低            | 相对高               |
| 强类型     | 是            | 否                   |
| 适合高并发 | 是            | 一般                 |

------

## 五、是否可以一起使用？（面试加分）

✅ **可以，而且非常常见**

### 推荐架构：

```
客户端
   ↓
Spring Cloud Gateway
   ↓
HTTP / 协议转换
   ↓
Dubbo 微服务
```

**优势**

- Gateway：负责鉴权、限流、路由
- Dubbo：负责高性能服务调用

------

## 六、常见误区澄清

❌ Gateway 能替代 Dubbo
 ❌ Dubbo 能直接当网关
 ❌ 它们是同类技术

👉 **错！它们解决的问题不同

------

## 面试官可能追问

- ❓ Gateway 后面能接 Dubbo 服务吗？
  - ✅ 可以，通过协议转换
- ❓ Dubbo 为什么比 HTTP 快？
  - 二进制协议 + 长连接
- ❓ Gateway 为什么用 WebFlux？
  - 高并发、低资源占用