## 什么是 Seata？

这是一个**分布式事务面试的高频问题**。面试官主要考你是否理解 **Seata 在微服务中解决什么问题、怎么做、适合什么场景**。下面给你一套**标准、可背的答案**。

------

## 面试总结一句话（必背 ⭐）

> **Seata 是一站式分布式事务框架，通过 AT、TCC、Saga 等模式解决微服务中跨服务数据一致性问题。**

------

## 一、什么是 Seata？（一句话）

> **Seata 是阿里开源的一站式分布式事务解决方案，用于在微服务架构下保证跨服务、跨数据库的数据一致性。**

关键词：**分布式事务 / 微服务 / 最终一致性 / AT、TCC、Saga**

------

## 二、Seata 解决什么问题？

在微服务中：

- 一个业务流程 → 多个服务
- 每个服务 → 本地数据库事务
- **无法使用传统本地事务**

👉 Seata 用来解决 **跨服务事务一致性问题**。

------

## 三、Seata 的核心组件（必考）

1️⃣ **TC（Transaction Coordinator）**

- 事务协调者
- 负责全局事务的创建、提交、回滚

2️⃣ **TM（Transaction Manager）**

- 全局事务发起者
- 定义事务边界（@GlobalTransactional）

3️⃣ **RM（Resource Manager）**

- 资源管理者
- 管理本地事务，向 TC 汇报状态

------

## 四、Seata 的事务模式（重点 ⭐）

### 1️⃣ AT 模式（默认，最常用）

- **自动代理数据库**
- 利用：
  - 本地事务
  - undo log（回滚日志）
- 无需改业务代码（侵入性低）

✅ 优点：简单、对业务无侵入
 ❌ 缺点：性能开销大、不支持非关系型数据库

------

### 2️⃣ TCC 模式

- Try / Confirm / Cancel
- 业务层实现事务逻辑

✅ 优点：控制力强、性能好
 ❌ 缺点：业务侵入性高

------

### 3️⃣ Saga 模式

- 长事务
- 正向操作 + 补偿操作

✅ 优点：适合长流程
 ❌ 缺点：最终一致性

------

### 4️⃣ XA 模式

- 基于数据库 XA 协议
- 强一致性

❌ 性能差、资源锁时间长

------

## 五、Seata 的工作流程（以 AT 为例）

1. TM 开启全局事务
2. 各 RM 执行本地事务
3. Seata 记录 undo log
4. 全部成功 → 提交
5. 失败 → TC 通知回滚

------

## 六、什么时候用 Seata？

适合：

- 微服务架构
- 多库事务
- 金融、电商订单、支付场景

不适合：

- 超高并发、低延迟场景
- 简单业务（可用最终一致性方案）

------

## 八、30 秒面试背诵版

> Seata 是阿里开源的分布式事务解决方案，包含 TC、TM、RM 三个角色，支持 AT、TCC、Saga 等模式，常用于微服务场景下的跨库事务一致性。